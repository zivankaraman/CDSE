<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get image from the archive (deprecated) — GetArchiveImage • CDSE</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get image from the archive (deprecated) — GetArchiveImage"><meta name="description" content="Retrieves the image for the area of interest using the parameters provided."><meta property="og:description" content="Retrieves the image for the area of interest using the parameters provided."><meta property="og:image" content="https://zivankaraman.github.io/CDSE/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CDSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/CDSE.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/BeforeYouStart.html">Before you start</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/zivankaraman/CDSE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get image from the archive (deprecated)</h1>
      <small class="dont-index">Source: <a href="https://github.com/zivankaraman/CDSE/blob/HEAD/R/GetArchiveImage.R" class="external-link"><code>R/GetArchiveImage.R</code></a></small>
      <div class="d-none name"><code>GetArchiveImage.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieves the image for the area of interest using the parameters provided.</p>
    </div>


    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p><a href="https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Process.html" class="external-link">https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Process.html</a></p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-aoi">aoi<a class="anchor" aria-label="anchor" href="#arg-aoi"></a></dt>
<dd><p>sf or sfc object, typically a (multi)polygon, describing the Area of Interest.</p></dd>


<dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p>numeric vector of four elements describing the bounding box of interest.
    Specify with a coordinate pair on two (opposite) vertices of the bounding box rectangle.
    Coordinates need to be in longitude, latitude.</p>
<p>Only one of either <code>aoi</code> or <code>bbox</code> may be specified.</p></dd>


<dt id="arg-time-range">time_range<a class="anchor" aria-label="anchor" href="#arg-time-range"></a></dt>
<dd><p>scalar or vector (Date or character that can be converted to date) defining the time interval.</p></dd>


<dt id="arg-collection">collection<a class="anchor" aria-label="anchor" href="#arg-collection"></a></dt>
<dd><p>character indicating which collection to search.
Must be one of the collections returned by <code>GetCollections</code>.</p></dd>


<dt id="arg-script">script<a class="anchor" aria-label="anchor" href="#arg-script"></a></dt>
<dd><p>a length one character string containing the evaluation script or the name of the file containing the script.</p></dd>


<dt id="arg-mosaicking-order">mosaicking_order<a class="anchor" aria-label="anchor" href="#arg-mosaicking-order"></a></dt>
<dd><p>character indicating the order in which tiles are overlapped from which the output result is mosaicked.
Must be one of "mostRecent", "leastRecent", or "leastCC". Default: "mostRecent"</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>name of the file to save the image. If NULL, a <code>SpatRaster</code> object is returned. Default: NULL</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>character indicating the output file format.
Must be one of "image/tiff", "image/png", or "image/jpeg". Default: "image/tiff"</p></dd>


<dt id="arg-pixels">pixels<a class="anchor" aria-label="anchor" href="#arg-pixels"></a></dt>
<dd><p>integer scalar or length-two vector indicating the request image width and height.
Values must be integers between 1 and 2500.</p></dd>


<dt id="arg-resolution">resolution<a class="anchor" aria-label="anchor" href="#arg-resolution"></a></dt>
<dd><p>numeric scalar or length-two vector indicating the spatial resolution of the request image
    in horizontal and vertical direction (in meters).</p>
<p>Only one of the arguments "pixels" or "resolution" must be set at the same time.
If the argument "pixels" or "resolution" is scalar, the same value is used for horizontal and vertical direction (width and height).</p></dd>


<dt id="arg-buffer">buffer<a class="anchor" aria-label="anchor" href="#arg-buffer"></a></dt>
<dd><p>numeric, width of the buffer to retrieve the image of enlarged area. Default: 0</p></dd>


<dt id="arg-mask">mask<a class="anchor" aria-label="anchor" href="#arg-mask"></a></dt>
<dd><p>logical indicating if the image should contain only pixels within Area of Interest. Default: FALSE</p></dd>


<dt id="arg-client">client<a class="anchor" aria-label="anchor" href="#arg-client"></a></dt>
<dd><p>OAuth client object to use for authentication.</p></dd>


<dt id="arg-token">token<a class="anchor" aria-label="anchor" href="#arg-token"></a></dt>
<dd><p>OAuth token character string to use for authentication.</p>
<p>Exactly one of either <code>client</code> or <code>token</code> must be specified. It is recommended to use <code>client</code>.</p></dd>


<dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>character indicating the process endpoint. Default: Copernicus Data Space Ecosystem process endpoint</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>SpatRaster</code> object (from the package <code>terra</code>) of the requested image (if <code>file</code> is <code>NULL</code>),
    or the (invisible) name of the file created.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>aoi</code> argument is provided, the result is returned in the same coordinate reference system.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="GetCollections.html">GetCollections</a></code>, <code><a href="SearchCatalog.html">SearchCatalog</a></code></p>
<p><code><a href="CDSE-deprecated.html">CDSE-deprecated</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">dsn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"centralpark.geojson"</span>, package <span class="op">=</span> <span class="st">"CDSE"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="va">dsn</span>, as_tibble <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">script_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"scripts"</span>, <span class="st">"NDVI_uint8.js"</span>, package <span class="op">=</span> <span class="st">"CDSE"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">day</span> <span class="op">&lt;-</span> <span class="st">"2023-07-11"</span></span></span>
<span class="r-in"><span><span class="va">ras</span> <span class="op">&lt;-</span> <span class="fu">GetArchiveImage</span><span class="op">(</span>aoi <span class="op">=</span> <span class="va">aoi</span>, time_range <span class="op">=</span> <span class="va">day</span>, script <span class="op">=</span> <span class="va">script_file</span>,</span></span>
<span class="r-in"><span>       collection <span class="op">=</span> <span class="st">"sentinel-2-l2a"</span>,format <span class="op">=</span> <span class="st">"image/tiff"</span>,</span></span>
<span class="r-in"><span>       mosaicking_order <span class="op">=</span> <span class="st">"leastCC"</span>, resolution <span class="op">=</span> <span class="fl">10</span>, client <span class="op">=</span> <span class="va">OAuthClient</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zivan Karaman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

